<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
</head>
 
<body>
    {%extends "base.html"%} 

    {%block body%} 

    <!-- <div class="cart-list"> -->
        <!-- <ul> -->
        <!-- {%for melon_id, quantity in session["cart"].items()%} loops through items in session["cart"] -->
            <!-- <li id="melon-name">{{melon_id}}: {{quantity}}</li> displays melon name and count in the cart -->
        <!-- {%endfor%}  -->
        <!-- </ul> -->
    <!-- </div> -->
    
    <table class="table table-striped mt-3"> <!--creates a table to display info-->
        <thead> <!--table headers-->
            <tr> <!--table row-->
                <th>Melon Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for melon in cart_melons%} <!--loops through melons in cart -->
            <tr> <!--values displayed in the rows of the table-->
                <th>{{melon.common_name}}</th> 
                <th>{{melon.quantity}}</th>
                <th>{{"%0.2f" | format(melon.price)}}</th> <!--formats the price as a float with 2 decimal places-->
                <th>{{"%0.2f" | format(melon.total_cost)}}</th> <!--formats the total_cost as a float with 2 decimal places-->
            </tr>
            {%endfor%}
        </tbody>
    </table>
    
    <h3>Total: ${{ "%0.2f" | format(order_total) }}</h3> <!--formats the cart total as a float with 2 decimal places-->
    <a href="/empty-cart" class="btn btn-primary">Empty Cart</a>
    {%endblock%} 

</body>
</html>